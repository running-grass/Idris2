# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2020, The Idris Community
# This file is distributed under the same license as the Idris2 package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Idris2 0.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2022-07-23 12:38+0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/reference/builtins.rst:5
#: 196b9db569e8433498898b61b24099bc
msgid "Builtins"
msgstr ""

#: ../source/reference/builtins.rst:11
#: ecf8f874fe6143c7915e0366bc7d1d84
msgid "Natural numbers"
msgstr ""

#: ../source/reference/builtins.rst:13
#: 36dc1f33b5f24ea5bf86df4c86fc0884
msgid "Idris2 supports an optimized runtime representation of natural numbers (non-negative integers). This optimization is automatic, however it only works when natural numbers are represented in a specific way"
msgstr ""

#: ../source/reference/builtins.rst:17
#: 0528920f3b1f4a2b87e417f7bb315c21
msgid "Here is an example of a natural number that would be optimized:"
msgstr ""

#: ../source/reference/builtins.rst:25
#: 8e2ded2e5d6e4331a8ca89a7d365ab6f
msgid "Natural numbers are generally represented as either zero or the successor (1 more than) of another natural number. These are called Peano numbers."
msgstr ""

#: ../source/reference/builtins.rst:28
#: 441355921acc43f49acf96d94ae9fd03
msgid "At runtime, Idris2 will automatically represent this the same as the ``Integer`` type. This will massively reduce the memory usage."
msgstr ""

#: ../source/reference/builtins.rst:31
#: 858a3a06add3497db34320d123a532a4
msgid "There are a few rules governing when this optimization occures:"
msgstr ""

#: ../source/reference/builtins.rst:33
#: 4a720fb54bd64774951c779175d3826d
msgid "The data type must have 2 constructors"
msgstr ""

#: ../source/reference/builtins.rst:35
#: c7cba0a6df924c238e49b6de23650c05
msgid "After erasure of runtime irrelevant arguments + One must have no arguments + One must have exactly 1 argument (called ``Succ``)"
msgstr ""

#: ../source/reference/builtins.rst:39
#: 787cd8fc14314e46aa1a2fab07d6165f
msgid "The type of the argument to ``Succ`` must have the same type constructor as the parent type. This means indexed data types, like ``Fin``, can be optimised."
msgstr ""

#: ../source/reference/builtins.rst:41
#: 715ab5753e3645998b8198d34bdcc559
msgid "The argument to ``Succ`` must be strict, ie not ``Lazy Natural``"
msgstr ""

#: ../source/reference/builtins.rst:43
#: 2bf3fa11f8b44f15bf4a9d6ba3d10a4d
msgid "To ensure that a type is optimized to an ``Integer``, use ``%builtin Natural`` ie"
msgstr ""

#: ../source/reference/builtins.rst:54
#: d2a9b0b7cb3a4a93933231c953f641c6
msgid "Casting between natural numbers and integer"
msgstr ""

#: ../source/reference/builtins.rst:56
#: 76b611d733a24b9b8969341f097c9ddb
msgid "Idris optimizes functions which convert between natural numbers and integers, so that it takes constant time rather than linear time."
msgstr ""

#: ../source/reference/builtins.rst:59
#: b02213400dad42c4ad44121a244c9ae0
msgid "Such functions must be written in a specific way, so that idris can detect that it can be optimised."
msgstr ""

#: ../source/reference/builtins.rst:62
#: a42585c9aad84897b661368c883f2d38
msgid "Here is an example of a natural to ``Integer`` function."
msgstr ""

#: ../source/reference/builtins.rst:70
#: 2e16fbe2628b490491237d209aab908b
msgid "This optimization is applied late in the compilation process, so it may be sensitive to seemingly insignificant changes."
msgstr ""

#: ../source/reference/builtins.rst:73
#: aef3753fcd524e229ecfee6a6fee7260
msgid "However here are roughly the rules governing this optimisation:"
msgstr ""

#: ../source/reference/builtins.rst:75
#: 647a52ab14604c71902cdf9a86721b2c
msgid "Exactly one argument must be pattern matched on (any other forced or dotted patterns are allowed)"
msgstr ""

#: ../source/reference/builtins.rst:77
#: f134aede4ca64c2299744543544e8e21
msgid "The right hand side of the 'Zero' case must be ``0``"
msgstr ""

#: ../source/reference/builtins.rst:78
#: 01dbbf7688e44847a9a4f84013aa7004
msgid "The right hand side of the 'Succ' case must be ``1 + cast k`` where ``k`` is the predecessor of the pattern matched argument"
msgstr ""

#: ../source/reference/builtins.rst:81
#: 2f4b74beb06940ccb91eb70d14c784a8
msgid "Casting from an ``Integer`` to a natural is a little more complex."
msgstr ""

#: ../source/reference/builtins.rst:93
#: 88d1094fcbe747fc8167394420912e8c
msgid "For now you must manually check the given integer is non-negative."
msgstr ""

#: ../source/reference/builtins.rst:95
#: 0d6ca94fb1be4a3a8c613762dfc359e4
msgid "If you are using an indexed data type it may be very hard to write your ``Integer`` to natural cast in such a way, so you can use ``%builtin IntegerToNatural`` to assert to the compiler that a function is correct. It is your responsibility to make sure this is correct."
msgstr ""

#: ../source/reference/builtins.rst:122
#: 8cb83e90515b4ae78033e27f61b60c10
msgid "Other operations"
msgstr ""

#: ../source/reference/builtins.rst:124
#: 5720fe03df19421c988d4720d5ebe9d6
msgid "This can be used with ``%transform`` to allow many other operations to be O(1) too."
msgstr ""

#: ../source/reference/builtins.rst:142
#: e05a6b7343e84781b940152df9447228
msgid "Compilation"
msgstr ""

#: ../source/reference/builtins.rst:144
#: 9eadf1124f684e5f98b3b328fd6593ee
msgid "Here are the details of how natural numbers are compiled to ``Integer`` s. Note: a numeric literal here is an ``Integer``."
msgstr ""

#: ../source/reference/builtins.rst:147
#: 6f8d5fd5f3e54769b320a81b10786aaa
msgid "``Zero`` => ``0``"
msgstr ""

#: ../source/reference/builtins.rst:149
#: d728ffbe967141b19794285888cd0c22
msgid "``Succ k`` => ``1 + k``"
msgstr ""

#: ../source/reference/builtins.rst:157
#: 61d48870613142aba0026fb08a8edd32
msgid "=>"
msgstr ""
